# Ð¢ÐµÑÑ‚Ð¾Ð²Ð¾Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ (Laravel + PHP 8.1)

##  Ð¤Ð¾Ñ€Ð¼ÑƒÐ»Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð·Ð°Ð´Ð°Ñ‡Ð¸
Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐµÑ€Ð²Ð¸Ñ Ð¿Ð¾Ð¸ÑÐºÐ° **Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼Ð° Ð² ÑÐºÐ¾Ð»ÑŒÐ·ÑÑ‰ÐµÐ¼ Ð¾ÐºÐ½Ðµ**.  

Ð”Ð°Ð½Ð¾:
- Ð¼Ð°ÑÑÐ¸Ð² Ñ‡Ð¸ÑÐµÐ» (`int` Ð¸Ð»Ð¸ `float`, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Ð¾Ñ‚Ñ€Ð¸Ñ†Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ);
- ÑˆÐ¸Ñ€Ð¸Ð½Ð° Ð¾ÐºÐ½Ð° `k`.

ÐÑƒÐ¶Ð½Ð¾ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð¼Ð°ÑÑÐ¸Ð² Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼Ð¾Ð² Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÐ´Ð²Ð¸Ð³Ð° Ð¾ÐºÐ½Ð° ÑÐ»ÐµÐ²Ð° Ð½Ð°Ð¿Ñ€Ð°Ð²Ð¾.  
Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð·Ð° Ð»Ð¸Ð½ÐµÐ¹Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ `O(n)` Ð¸ Ñ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð¿Ð°Ð¼ÑÑ‚ÑŒÑŽ `O(k)`.

**ÐŸÑ€Ð¸Ð¼ÐµÑ€:**
```php
$arr = [1, 3, -1, -3, 5, 3, 6, 7];
$k = 3;
// Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚: [3, 3, 5, 5, 6, 7]
```

---

## ðŸ— Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ»Ð°ÑÑÑ‹

### 1. Ð¡ÐµÑ€Ð²Ð¸Ñ
**`app/Services/SlidingWindowMaxService.php`**
- ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ° Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð°.
- ÐœÐµÑ‚Ð¾Ð´:
  ```php
  public function compute(array $arr, int $k): array;
  ```
- Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‡ÐµÑ€ÐµÐ· Ð¼Ð¾Ð½Ð¾Ñ‚Ð¾Ð½Ð½ÑƒÑŽ Ð´Ð²ÑƒÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½ÑŽÑŽ Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ (deque):
  - ÑƒÐ´Ð°Ð»ÑÐµÑ‚ Ð¸Ð· Ð³Ð¾Ð»Ð¾Ð²Ñ‹ Ð¸Ð½Ð´ÐµÐºÑÑ‹, Ð²Ñ‹ÑˆÐµÐ´ÑˆÐ¸Ðµ Ð·Ð° Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‹ Ð¾ÐºÐ½Ð°;
  - ÑƒÐ´Ð°Ð»ÑÐµÑ‚ Ð¸Ð· Ñ…Ð²Ð¾ÑÑ‚Ð° Ð¸Ð½Ð´ÐµÐºÑÑ‹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð², Ð¼ÐµÐ½ÑŒÑˆÐ¸Ñ… Ð»Ð¸Ð±Ð¾ Ñ€Ð°Ð²Ð½Ñ‹Ñ… Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼Ñƒ;
  - Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼ Ð¾ÐºÐ½Ð° Ð²ÑÐµÐ³Ð´Ð° Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð² Ð³Ð¾Ð»Ð¾Ð²Ðµ deque.

### 2. ÐšÐ¾Ð½ÑÐ¾Ð»ÑŒÐ½Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°
**`app/Console/Commands/SlidingWindowMaxCommand.php`**
- ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð·Ð°Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ Ð¸Ð· CLI.
- Ð¡Ð¸Ð³Ð½Ð°Ñ‚ÑƒÑ€Ð°:
  ```bash
  php artisan metrics:swmax --k=3 -- 1 3 -1 -3 5 3 6 7
  ```
- ÐÐ° Ð²Ñ‹Ñ…Ð¾Ð´Ðµ:
  ```
  3 3 5 5 6 7
  ```

### 3. Ð¢ÐµÑÑ‚Ñ‹
**`tests/Unit/SlidingWindowMaxServiceTest.php`**
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÑŽÑ‚ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐµÑ€Ð²Ð¸ÑÐ°.
- ÐšÐµÐ¹ÑÑ‹:
  - Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ñ Ñ†ÐµÐ»Ñ‹Ð¼Ð¸ Ñ‡Ð¸ÑÐ»Ð°Ð¼Ð¸;
  - Ð¼Ð°ÑÑÐ¸Ð² Ñ float;
  - `k = 1` (Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ = Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ Ð¼Ð°ÑÑÐ¸Ð²);
  - `k = 0` Ð¸Ð»Ð¸ `k > n` â†’ Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ;
  - Ð¿ÑƒÑÑ‚Ð¾Ð¹ Ð¼Ð°ÑÑÐ¸Ð²;
  - Ð¼Ð°ÑÑÐ¸Ð² Ð¸Ð· Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ñ‹Ñ… ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð².

---

##  ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ¾Ð´

1. ÐŸÑ€Ð¸ Ð²Ñ‹Ð·Ð¾Ð²Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ð° `compute`:
   - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ÑÑ Ð²Ð°Ð»Ð¸Ð´Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² (`k > 0` Ð¸ `k <= n`).
   - Ð•ÑÐ»Ð¸ Ð¼Ð°ÑÑÐ¸Ð² Ð¿ÑƒÑÑ‚Ð¾Ð¹ â€” Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ Ð¿ÑƒÑÑ‚Ð¾Ð¹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚.
2. Ð’ Ñ†Ð¸ÐºÐ»Ðµ:
   - Ð˜Ð· Ð¾Ñ‡ÐµÑ€ÐµÐ´Ð¸ ÑƒÐ´Ð°Ð»ÑÑŽÑ‚ÑÑ Ð¸Ð½Ð´ÐµÐºÑÑ‹ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²Ñ‹ÑˆÐ»Ð¸ Ð·Ð° Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‹ Ð¾ÐºÐ½Ð°.
   - Ð˜Ð· Ñ…Ð²Ð¾ÑÑ‚Ð° ÑƒÐ´Ð°Ð»ÑÑŽÑ‚ÑÑ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¼ÐµÐ½ÑŒÑˆÐµ Ð¸Ð»Ð¸ Ñ€Ð°Ð²Ð½Ñ‹Ðµ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼Ñƒ.
   - Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¸Ð½Ð´ÐµÐºÑ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ð² Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ.
   - ÐšÐ°Ðº Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¾ÐºÐ½Ð° Ð´Ð¾ÑÑ‚Ð¸Ð³Ð°ÐµÑ‚ `k`, Ð² Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð¿Ð¸ÑˆÐµÑ‚ÑÑ Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼ (ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚ Ð¿Ð¾ Ð¸Ð½Ð´ÐµÐºÑÑƒ Ð² Ð³Ð¾Ð»Ð¾Ð²Ðµ Ð¾Ñ‡ÐµÑ€ÐµÐ´Ð¸).
3. Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð¼Ð°ÑÑÐ¸Ð² Ñ‡Ð¸ÑÐµÐ».
4. Ð’ ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒÐ½Ð¾Ð¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ðµ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð¿Ð°Ñ€ÑÑÑ‚ÑÑ Ð¸Ð· Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð², Ð·Ð°Ñ‚ÐµÐ¼ Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ ÑÐµÑ€Ð²Ð¸Ñ Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ ÑÑ‚Ñ€Ð¾ÐºÐ¾Ð¹.
5. Unit-Ñ‚ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ð³Ð¾Ð½ÑÑŽÑ‚ Ð²ÑÐµ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸, Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ Ð¿Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð½Ñ‹Ðµ ÑÐ»ÑƒÑ‡Ð°Ð¸.

---

##  ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð·Ð°Ð¿ÑƒÑÐºÐ°
```bash
php artisan metrics:swmax --k=3 -- 1 3 -1 -3 5 3 6 7
```
Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:
```
3 3 5 5 6 7
```
